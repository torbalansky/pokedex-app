let pokemonRepository=function(){let e=[],t=window.$;function n(e){let n=t('.modal-body'),o=t('.modal-title');o.empty(),n.empty();let i=t('<h1>'+e.name+'</h1>'),r=t('<p><strong>Height: </strong>'+e.height+'</p>'),l='';for(let a=0;a<e.types.length;a++)l+=e.types[a].type.name,a!==e.types.length-1&&(l+=', ');let s=t('<p><strong>Type/s: </strong>'+l+'</p>'),c=t('<img class="modal-img">');c.attr('src',e.imageUrl),o.append(i),n.append(r),n.append(s),n.append(c)}function o(t){'object'==typeof t&&'name'in t&&'string'==typeof t.name?e.push(t):console.log('pokemon is not correct')}function i(){return e}function r(e){pokemonRepository.loadDetails(e).then(function(){n(e)})}function l(){let e=document.getElementById('search-input').value.toLowerCase();document.querySelectorAll('.list-group-item').forEach(function(t){t.querySelector('.button-class').innerText.toLowerCase().includes(e)?t.style.display='block':t.style.display='none'})}return document.querySelector('.navbar-brand').addEventListener('click',function(){location.reload()}),t(document).ready(function(){t('.logo-pokedex').click(function(){location.reload()})}),document.getElementById('search-input').addEventListener('input',function(){l()}),{add:o,getAll:i,addListItem:function e(t){let n=document.querySelector('.list-group'),o=document.createElement('li'),i=document.createElement('button');i.innerText=t.name,i.classList.add('button-class'),i.classList.add('btn-primary'),i.setAttribute('data-toggle','modal'),i.setAttribute('data-target','#pokemon-modal'),o.classList.add('list-group-item'),o.appendChild(i),n.appendChild(o),i.addEventListener('click',function(){r(t)})},loadList:function e(){let t,n;return t=document.querySelector('.pokemon-list'),n=document.createElement('p'),t.appendChild(n),fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};document.querySelector('.pokemon-list').innerHTML='',o(t)})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.types=e.types}).catch(function(e){console.error(e)})},showDetails:r,showModal:n,searchPokemon:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});